"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[944],{8944:function(e,n,t){t.r(n),t.d(n,{default:function(){return f}});var o=t(5893),r=t(7480),a=t(5830),l=t(1163),i=t(7294),u=t(4871),c=t(1572),d=t(4021),s=t(2212),h=(0,a.Xf)(r.y.pillarNames);function f(e){var n=e.data,t=e.pillar,r=e.onChange,a=e.activeCountryId,f=(0,u.ZP)(),p=f.observe,v=f.width,g=f.height,m=(0,i.useState)(null),w=m[0],b=m[1],y=(0,i.useRef)(null),C=(0,l.useRouter)(),k=(0,i.useMemo)((function(){return a?n.filter((function(e){return e.alpha3===a})):[]}),[a]);(0,d.Z)((function(){if(y.current){var e=y.current.controls();if(a){var t=n.find((function(e){return e.alpha3===a}));if(!t)return;e.autoRotate=!1,y.current.pointOfView({lat:(null===t||void 0===t?void 0:t.latitude)||void 0,lng:(null===t||void 0===t?void 0:t.longitude)||void 0,altitude:1.5},1200)}else{e.autoRotate=!0;var o=y.current.camera().position,r=y.current.toGeoCoords(o);y.current.pointOfView({lat:r.lat,lng:r.lng,altitude:1.9},1200)}}}),[a]);return(0,o.jsx)("div",{ref:p,className:"w-full h-full min-h-[30em] overflow-hidden relative",children:(0,o.jsx)(c.Z,{ref:y,height:g,width:v,showGraticules:!0,animateIn:!0,backgroundColor:"rgba(0,0,0,0)",showGlobe:!0,onGlobeReady:function(){if(y.current){var e=y.current.controls();e.autoRotate=!0,e.autoRotateSpeed=-.25,e.enableZoom=!1,y.current.pointOfView({altitude:1.9});var n=y.current.scene();setTimeout((function(){var e,t,o;n.children.filter((function(e){return"DirectionalLight"===e.type})).map((function(e){n.remove(e)}));var r=new s.Mig(14477822,.2);n.add(r),((null===(o=null===(t=null===(e=n.children[3])||void 0===e?void 0:e.children[0])||void 0===t?void 0:t.children[4])||void 0===o?void 0:o.children)||[]).forEach((function(e){e.children[1].renderOrder=2}))}),300);var t=y.current.camera(),o=new s.Ox3(16777215,.1);o.position.set(0,0,1),t.add(o),n.add(t),n.fog=new s.ybr(14477822,150,300)}},showAtmosphere:!0,atmosphereAltitude:.23,atmosphereColor:"#DCE9FE",htmlElementsData:k,htmlLat:"latitude",htmlLng:"longitude",htmlElement:function(){var e='\n            <div class="text-white">\n              <span class="transform -translate-x-3 w-6 h-6 block animate-bounce">'.concat('<svg width="100%" height="100%" viewBox="-4 0 36 36" overflow="visible">\n    <path fill="currentColor" d="M14,0 C21.732,0 28,5.641 28,12.6 C28,23.963 14,36 14,36 C14,36 0,24.064 0,12.6 C0,5.641 6.268,0 14,0 Z" stroke="black"></path>\n    <circle fill="black" cx="14" cy="14" r="7"></circle>\n  </svg>',"</span>\n            </div>\n          "),n=document.createElement("div");return n.innerHTML=e,n},polygonGeoJsonGeometry:function(e){return e.geojson.geometry},polygonsData:n,polygonCapMaterial:function(e){var n=e,o=n.scores[t].score||0,r=w===n.alpha3||a===n.alpha3?h[t](6):o?h[t](o||0):"#eee";return new s.EJi({color:r,roughness:.5,reflectivity:1.2,opacity:a?a===n.alpha3?1:.9:1})},polygonAltitude:function(e){return e.alpha3===a?.035:.01},polygonSideColor:function(){return"rgba(255,255,255,255)"},polygonStrokeColor:function(){return"#111"},polygonLabel:function(e){var n=e;return n&&n.unMember?'<div class="bg-white rounded-md shadow-lg px-4 py-1 uppercase text-xs tracking-widest font-medium text-black">\n          <span>'.concat(n.name,"</span>\n        </div > "):""},globeMaterial:new s.EJi({color:"#fff"}),onPolygonHover:function(e){var n=e;n||b(null),n&&n.unMember&&b(n.alpha3||null)},onPolygonClick:function(e){var n,t=e;t.unMember&&(t.alpha3!==a?(n=t.alpha3,r(n)):C.push("/country/".concat(t.alpha3)))}})})}}}]);